<?php

require_once PATH_INCLUDE . '/CsvImport.php';

class UserCsvImport extends CsvImport {

	/////////////////////////////////////////////////////////////////////
	//Constructor
	/////////////////////////////////////////////////////////////////////

	public function __construct() {

		parent::__construct();
	}

	/////////////////////////////////////////////////////////////////////
	//Methods
	/////////////////////////////////////////////////////////////////////

	/////////////////////////////////////////////////////////////////////
	//Implements
	/////////////////////////////////////////////////////////////////////

	protected function upload() {

		TableMng::getDb()->autocommit(false);

		$stmt = TableMng::getDb()->prepare(sprintf(
			'INSERT INTO users (forename, name) VALUES (?, ?);
			'));

		foreach($this->_contentArray as $con) {
			$stmt->bind_param('ss', $con['forename'], $con['name']);
			if(!$stmt->execute()) {
				$this->_errors['dbUpload'][] = $con;
			}
		}
	}

	/////////////////////////////////////////////////////////////////////
	//Attributes
	/////////////////////////////////////////////////////////////////////
}


?>